<!-- general.xml {% comment %}
*****************************************************************************************
*                            WARNING: DO NOT EDIT THIS FILE                             *
*                                                                                       *
* This file is generated by SUSHI. Any edits you make to this file will be overwritten. *
*                                                                                       *
* To change the contents of this file, edit the original source file at:                *
* genomics-reporting/input/pages/general.xml                                            *
*****************************************************************************************
{% endcomment %} -->
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../src-generated/schemas/fhir-single.xsd">
   <p>
    This page defines the core profiles and concepts that would be expected to be present in most genomic reports, regardless of type, and how those profiles relate to each other. Concepts covered include the genomics report itself and the high-level categories of observations and other elements that make up the report, such as patient, specimen, variants, haplotypes, genotypes, etc.
  </p>
   <p>
    This table describes the categories of data contained in this implementation guide.
  </p>
  <table>
    <tbody>
      <tr>
        <th><a href="#diagnosticreport">Genomics Report</a></th>
        <td>Groups together all the structured data being reported for a genomic testing.</td>
      </tr>
      <tr>
        <th><a href="#interpretations">Overall Interpretations</a></th>
        <td>These are high-level observations of the result of the genomic testing.</td>
      </tr>
      <tr>
        <th><a href="#findings">Genomic Findings</a></th>
        <td>These are observations about the specimen's genomic characteristics. For example, a chromosomal abnormality, genotype, haplotype or variant that was detected.</td>
      </tr>
      <tr>
        <th><a href="#implications">Genomic Implications</a></th>
        <td>These represent observations where the <code>Observation.subject</code> is typically the Patient and the <code>Observation.derivedFrom</code> should refer to Genomic Findings. For example, "Patient may have increased susceptibility to heart attacks"</td>
      </tr>
		<!--
      <tr>
        <th><a href="#grouper">Grouper</a></th>
        <td>The genomic observations can be organized and grouped together in a wide variety of ways.</td>
      </tr>
	  -->
      <tr>
        <th><a href="#regionstudied">Region Studied</a></th>
        <td>These are observations describing the region or regions that were studied as part of this Genomics Report.</td>
      </tr>
      <tr>
        <th><a href="#otherobservations">Other Observations</a></th>
        <td>The results of tests other than sequenced genomic variants may also be included the report.</td>
      </tr>
      <tr>
        <th><a href="#recommendations">Recommended Actions</a></th>
        <td>Specific actions be taken, such as genomic counseling, re-testing, adjusting drug dosages, etc. - driven by the results found.</td>
      </tr>
      <tr>
        <th><a href="#contextual">Contextual Resources</a></th>
        <td>Other resources that provide contextual details.</td>
      </tr>
		<!--tr>
		<th>
			<a href="#grouper">Using Observations to group or represent a sub-panel</a>
		</th>
		<td>Genomic observations can be organized and grouped together in a wide variety of ways. Generally the grouping provides a visual  to this grouping, with exception of using an appropriate code for a panel (e.g. a specific Panel LOINC code in an observation used to tie all the variants of the panel together) </td>
	  </tr-->
    </tbody>
  </table>

  <a name="diagnosticreport"> </a>
  <h3>Genomics Report</h3>
  <p>
    The <a href="StructureDefinition-genomics-report.html">genomics report</a> is the focus of all genomic reporting. It conveys metadata about the overall report (what kind of report it was, when it was written, who wrote it, final vs. draft, etc.). It also typically includes a rendered version for review by a clinician. It also groups together all relevant information found as part of the genomic analysis (Rules for relevancy will depend on the type of testing ordered, the reason for testing and the policies of the lab). Most of the structured genomic information is expressed as FHIR <a href="{{site.data.fhir.path}}observation.html">Observations</a>. Any recommendations that come with the report are expressed as FHIR <a href="{{site.data.fhir.path}}task.html">Tasks</a>. The report can be organzied into sub-reports using core DiagnosticReport extensions like <a href="{{site.data.fhir.path}}extension-diagnosticreport-extends.html">extends</a> or <a href="{{site.data.fhir.path}}extension-diagnosticreport-summaryof.html">summaryOf</a>. Which is especially useful for later analysis steps. Additionally, an observation can be used to group content for viewing purposes or to indicate a higher level panel (with a specific LOINC panel code in the <code>Observation.code</code> for example).
  </p>
  <img src="general-report-overview.png" alt="Class diagram showing the high-level categories of the component parts in a genomic diagnostic report"/>
  <p>
    <b>Genomic Report Overview</b>
  </p>
  <p>
    <a href="StructureDefinition-genomics-report.html">Genomics Report</a>,
    <a href="#interpretations">Overall Interpretation</a>,
    <a href="#findings">Genomic Findings</a>,
    <a href="#implications">Genomic Implications</a>,
    <!--<a href="#grouper">Grouper</a>,-->
    <a href="#regionstudied">Region Studied</a>,
    <a href="#recommendations">Recommended Actions</a>
  </p>
  <p>
    Again, if needed, large or complex genomic reports may be broken down into sub-reports using core DiagnosticReport extensions like <a href="{{site.data.fhir.path}}extension-diagnosticreport-extends.html">extends</a> or <a href="{{site.data.fhir.path}}extension-diagnosticreport-summaryof.html">summaryOf</a>. This is particularly useful when different labs or services are performing later steps in the analysis, for example. Or a panel <code>Observation.code</code> can be used.
  </p>
  <p>
    In some cases, the lab or other reporting organization may generate risk assessments as part of their reports. These are referenced from a report from the <a href="StructureDefinition-genomics-report-risk.html">Genomics Report Risk</a> extension.
  </p>
   <p>
    All the observations profiles defined are typically referenced directly by the <a href="StructureDefinition-genomics-report.html">genomics report</a>. The genetic findings, implications and region studied profiles all contain links to computably define which go together (e.g. the variant observation is referenced within the implication profile using <code>derivedFrom</code>). However, when processing reports, as best practice one should follow <code>hasMember</code> relationships iteratively, and <code>derivedFrom</code> recursively to ensure that all observations are processed. This will ensure complete processing of the <code>DiagnosticReport</code> results. The relationships define how the implications are grouped with relevant genomic findings, following them ensures both complete processing and correct association. 
  </p>
  <a name="observations"> </a>
  <h3>Genomic Observations</h3>
  <p>
    Observations are the core represention of structured genomic information. This guide defines a number of Observation profiles, with common underlying components and constraints being inherited from abstract profiles as shown in the following diagram. The profiles and their specific usage will be defined in more detail below and on the other pages of this guide.
  </p>
  <p>
    All genomic observations are derived from a <a href="StructureDefinition-genomics-base.html">common abstract profile</a> that asserts they should have a category, effective date, issued date and status.
  </p>
  <img src="general-observations.png" alt="Class diagram showing the inheritance structure for genomic observations."/>
  <p>
    <b>Genomic Observations</b>
  </p>
  <p>
    <a href="StructureDefinition-genomics-base.html"> Genomics Base</a>,
    <a href="StructureDefinition-overall-interpretation.html"> Overall Interpretation</a>,
    <a href="StructureDefinition-finding.html"> Genomic Finding (abstract)</a>,
    <a href="StructureDefinition-variant.html"> Variant</a>,
    <a href="StructureDefinition-haplotype.html"> Haplotype</a>,
    <a href="StructureDefinition-genotype.html"> Genotype</a>,
    <a href="StructureDefinition-region-studied.html"> Region Studied</a>,
    <!--<a href="StructureDefinition-grouper.html"> Grouper</a>,-->
    <a href="StructureDefinition-sequence-phase-relationship.html"> Sequence Phase Relationship</a>,
    <a href="StructureDefinition-implication.html"> Genomic Implication (abstract)</a>,
    <a href="StructureDefinition-therapeutic-implication.html"> Therapeutic Implication</a>,
    <a href="StructureDefinition-diagnostic-implication.html"> Diagnostic Implication</a>
  </p>

  <a name="interpretations"> </a>
  <h4>Overall Interpretation</h4>

  <p>
    Overall interpretation is a high-level summary observation that applies to the whole report. Their purpose is to answer the question "Did you find anything when you did the test I asked you to do?"
  </p>
  <p>
    <a href="StructureDefinition-overall-interpretation.html">Overall Interpretation</a> is what the laboratory declares as the summary result of the test (e.g. Positive, Negative, Unknown) and is typically used when the genomic test was looking for a particular genomically-based disease. It allows indication of whether genomic results known to be associated with the disease was found or not.
  </p>

  <a name="findings"> </a>
  <h4>Genomic Findings</h4>
  <p>
    The primary focus of genomic testing is making Genomic Findings. These are the fine and/or coarse-grained descriptions of a specimen's genomic characteristics. It is this information that leads to the <i>Overall Interpretations</i> for the report, as well as <a href="#implications">Genomic Implications</a> that are used to convey the potential impact of the genomic findings for the subject of the test.
  </p>
  <img src="general-genomic-findings.png" alt="Class diagram showing relationship of genomic findings as well as genotypes, haplotypes, variants and sequences."/>
  <p>
    <b>Genomic Findings</b>
  </p>
  <p>
    <a href="StructureDefinition-finding.html">Genomic Finding</a>,
    <a href="StructureDefinition-genotype.html">Genotype</a>,
    <a href="StructureDefinition-haplotype.html">Haplotype</a>,
    <a href="StructureDefinition-variant.html"> Variant</a> (or see <a href="sequencing.html">Variant Reporting</a>),
    <a href="StructureDefinition-sequence-phase-relationship.html">Sequence Phase Relationship</a>
  </p>
  <p>
    Genomic Findings can be subdivided into types of findings:
  </p>
  <ul>
    <li><a href="StructureDefinition-genotype.html">Genotypes</a> describe combinations of genomic variations that together are associated with a particular phenotype - i.e. a specific physical, behavioral or risk-associated difference associated with the organism whose specimen was tested.</li>
    <li><a href="StructureDefinition-haplotype.html">Haplotypes</a> describe a set of genomic variations that appear on a single strand of DNA - and which are therefore typically inherited together</li>
    <li>Variants are specific differences or combinations of differences between parts of one or more specimen sequences and the equivalent portions of the reference sequence(s) for that organism. The <a href="sequencing.html">Variant Reporting</a> section deals with all types of variants detected by formal sequencing, including simple/discrete variants, structural variants and complex variants detected by direct sequencing, shotgun-based sequencing and array-based testing for specific variants.</li>
    <li><a href="StructureDefinition-sequence-phase-relationship.html">Sequence Phase Relationships</a> describe the CIS or TRANS relationship of findings.</li>
  </ul>
  <p>
    These categories of observations have relationships. Haplotypes can be identified based on the presence of variants. Genotypes can be identified based on the presence of haplotypes and/or variants. All three can be expressed as a combination of one or more sequences.
  </p>
  <p>
    Genotype is used to convey corresponding haplotypes or variations at a particular locus. Many genotypes are expressed as simple strings, and can be conveyed in <code>genotype.valueCodeableConcept.text</code>. In some cases, genotypes are sufficiently standardized to be conveyed as codes in <code>genotype.valueCodeableConcept.code</code>.
    <ul>
      <li><code>TPMT *1/*3A</code> represents the TPMT *1 haplotype (or 'star allele') on one chromosome and the TPMT *3A haplotype on the homologous chromosome</li>
      <li><code>A/C</code> represents a heterozygous "A" and a heterozygous "C" at SNP rs1142345. </li>
    </ul>
  </p>
  <p>
    For HLA, KIR, and other genes in the immunogenomics domain, the National Marrow Donor Program (NMDP) led a community effort to define the Genotype List String (GL String) grammar, described <a href="https://glstring.org">here</a>. Notably, the GL String uses '+' as a delimiter between alleles in a genotype. It also has delimiters for ambiguous genotypes, allele lists, and haplotypes.
  </p>
  <p>
    For Pharmacogenomics, we define here a simple grammar of [HGNC gene symbol followed by white space followed by a slash ('/') delimited list of haplotype codes], where the codeSystem is set to the codeSystem of the haplotypes (e.g. Pharmvar).
  </p>
  <p>
    Here are some examples that are standardized, note that there are some other examples which still lack standardization today.
    <ul>
      <li>Text only<br/>
        <code>
          &lt;valueCodeableConcept&gt;<br/>
          &#160;&#160;&lt;text&gt;A/C at SNP rs1142345&lt;/text&gt;<br/>
          &lt;/valueCodeableConcept&gt;<br/>
        </code>
      </li>
      <li>Coded HLA<br/>
        <code>
          &lt;valueCodeableConcept&gt;<br/>
          &#160;&#160;&lt;coding&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;system value=&quot;http://glstring.org&quot;/&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;version value=&quot;1.0&quot;/&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;code value=&quot;#hla#3.23#HLA-A*01:01:01:01/HLA-A*01:02+HLA-A*24:02:01:01&quot;/&gt;<br/>
          &#160;&#160;&lt;/coding&gt;<br/>
          &lt;/valueCodeableConcept&gt;<br/>
        </code>
      </li>
      <li>Coded PGx<br/>
        <code>
          &lt;valueCodeableConcept&gt;<br/>
          &#160;&#160;&lt;coding&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;system value=&quot;https://www.pharmvar.org/&quot;/&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;code value=value=&quot;CYP2C9 *1A/*1A&quot;/&gt;<br/>
          &#160;&#160;&lt;/coding&gt;<br/>
          &lt;/valueCodeableConcept&gt;<br/>
        </code>
      </li>
    </ul>
  </p>

  <a name="implications"> </a>
  <h4>Genomic Implications</h4>
  <blockquote class="stu-note">
    <p>
      At present, implications are noted as explicit observations about the patient/subject. However, it's not clear this is the correct approach. The work group is evaluating introducing a new resource that allows conveying "knowledge" about a variant in a patient-independent way. This would allow saying "this variant is associated with an increase risk of cardiovascular disease" rather than "based on this variant, the patient is at an increased risk of cardiovascular disease", which isn't necessarily a determination the reporting organization may wish to assert. Feedback is welcome.
    </p>
  </blockquote>
  <img src="general-genomic-implications.png" alt="Class diagram showing relationship of genomic implications."/>
  <p>
    <b>Genomic Implications</b>
  </p>
  <p>
    <a href="StructureDefinition-implication.html">Genomic Implication</a>,
    <a href="StructureDefinition-therapeutic-implication.html"> Therapeutic Implication</a>,
    <a href="StructureDefinition-diagnostic-implication.html"> Diagnostic Implication</a>
  </p>
  <p>
    Genomic Implications are assertions of likely effects genomic results on the patient, tumor or other subject. Implications are relevant for areas of genomic testing including inherited disease, <a href="pharmacogenomics.html">pharmacogenomics</a> and <a href="somatics.html">somatic</a>. For inherited diseases, a <a href="StructureDefinition-diagnostic-implication.html"> diagnostic implication</a> indicates the likelihood of inheritance of a particular disease (the associated-phenotype) as well as how inheritance is likely to occur (mode-of-inheritance). For other more specific guidance, see the <a href="pharmacogenomics.html">pharmacogenomics</a> and <a href="somatics.html">somatics</a> pages.
  </p>
  <p>
    Implications inherit a common set of elements:
  </p>
  <ul>
    <li><code>genomics-artifact</code> supports conveying references to citations, supporting documentation and other information relevant to the asserted implication</li>
    <li><code>evidence-level (component)</code> indicates the strength of the evidence behind the asserted implication</li>
    <li><code>prognosis (component)</code> indicates the likely diagnostic or therapeutic outcome of the implication</li>
  </ul>
  <p>
    Here are some examples of how the evidence-level component can be used (NOTE - they would be used in the appropriate, use case specific profile):
    <ul>

    <li>Coded ACMG (see <a href="https://www.acmg.net/docs/standards_guidelines_for_the_interpretation_of_sequence_variants.pdf">ACMG</a>)<br/>
      <code>
        &lt;valueCodeableConcept&gt;<br/>
        &#160;&#160;&lt;coding&gt;<br/>
        &#160;&#160;&#160;&#160;&lt;system value=&quot;https://www.acmg.org/&quot;/&gt; TODO - Need ACMG as a Code System<br/>
        &#160;&#160;&#160;&#160;&lt;code value=&quot;PS1&quot;/&gt;<br/>
        &#160;&#160;&lt;/coding&gt;<br/>
        &#160;&#160;&lt;coding&gt;<br/>
        &#160;&#160;&#160;&#160;&lt;system value=&quot;https://www.acmg.org/&quot;/&gt;<br/>
        &#160;&#160;&#160;&#160;&lt;code value=&quot;PM2&quot;/&gt;<br/>
        &#160;&#160;&lt;/coding&gt;<br/>
        &lt;/valueCodeableConcept&gt;<br/>
      </code>
    </li>

      <li>Coded PGx (see <a href="https://www.pharmgkb.org/clinicalAnnotations">PharmGKB</a>)<br/>
        <code>
          &lt;valueCodeableConcept&gt;<br/>
          &#160;&#160;&lt;coding&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;system value=&quot;https://www.pharmvar.org/&quot;/&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;code value=&quot;Level 1A&quot;/&gt;<br/>
          &#160;&#160;&lt;/coding&gt;<br/>
          &lt;/valueCodeableConcept&gt;<br/>
        </code>
      </li>
      <li>Coded Somatic (see <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5728662/">MVLD</a>)<br/>
        <code>
          &lt;valueCodeableConcept&gt;<br/>
          &#160;&#160;&lt;coding&gt;<br/>
          &#160;&#160;&#160;&#160;&lt;system value=&quot;https://www.clinicalgenome.org/mvld/&quot;/&gt; TODO - Need ClinGen/MVLD as a Code System<br/>
          &#160;&#160;&#160;&#160;&lt;code value=&quot;Tier1 LevelA&quot;/&gt;<br/>
          &#160;&#160;&lt;/coding&gt;<br/>
          &lt;/valueCodeableConcept&gt;<br/>
        </code>
      </li>
    </ul>
  </p>

  <!--a name="grouper"> </a>
  <h4>Grouping observations</h4>
  <p>
    All the observations profiles defined are typically referenced directly by the <a href="StructureDefinition-genomics-report.html">genomics report</a>. The genetic findings, implications and region studied profiles all contain links to computably define which go together (e.g. the variant observation is referenced within the implication profile using <code>derivedFrom</code>). However, sometimes it is desired to connect observations for visualization. This might be done with a grouping observation. In this version of the specification, no guidance is provided on where or if a grouping observation should be used. This is left up to the discretion of the reporting lab. Observations might be organized for visualization purposes on the basis of subject, specimen, chromosome, gene, condition/disease, medication or other appropriate measure. The recursive <code>hasMember</code> relationship on observation supports a nested tree-structure of observations if appropriate, though more than two levels of grouping observations is likely excessive. See <a href="Bundle-oncologyexamples-r4.html"> an example</a> using grouping to separately reference variants and other Observations on the report. For a version of the same report without grouping see <a href="Bundle-oncologyexamples-r4-noGrouping.html"> without grouping</a>. In the examples, the NCI metathesaurus code C43359 (for 'Group' or 'Panel') is used for the grouping <code>Observation.code</code> field. Genomic panels that have specific codes, such as a specific LOINC code, could also be used if the grouping observation contains all the elements typically reported by the specific panel.
  </p>
  <p>
	Here is a figure showing diagnostic report directly referencing the result genomic observations without grouping (similar to <a href="Bundle-oncologyexamples-r4-noGrouping.html"> the example above without grouping</a> and <a href="DiagnosticReport-PGxGenomicsReportEMERGE.html">the pharmacogenomics example based on EMERGE but without grouping</a>): 
  </p>
  <img src="diagnostic-report-no-grouping.png" alt="Example not using a grouping observation"/>
  <p>
    Here is an example of grouping on the basis of type of genomic observation, similar to <a href="Bundle-oncologyexamples-r4.html">the oncology example above</a> and <a href="DiagnosticReport-PGxGenomicsReportEMERGE2.html">the pharmacogenomics example based on EMERGE</a> :
  </p>
  <img src="diagnostic-report-groupingObservations.png" alt="Example of use of a grouping observation"/>
  <p>
	Here is an example layout of how a mixed use of group could appear. This is an exaggeration but is meant to give an impression of the mixture grouping observations could allow. Note, there are some genomics observation profiles directly referenced as results and some that are not. 
  </p>
  <img src="diagnostic-report-MixedUseOfGrouper.png" alt="Mixture of "/>
  <p>
    There is an important note later about expectations of the visibility of the grouped observations. Due to the possibility that a lab may only reference grouping observations as results, one will need to follow <code>hasMember</code> relationships iteratively, and <code>derivedFrom</code> recursively to ensure that all observations are processed. This will ensure complete processing of the <code>DiagnosticReport</code> results.
  </p>
  <p>
    Any organization of observations into groups or sub-groups is purely for navigation and presentation purposes. It carries no additional "meaning." Each observation can be interpreted on its own without knowing the associated group or sub-group and must be able to stand alone as a resource and be independently valuable. The organization of observations in groups does not assert any relationship between observations.
  </p-->

  <a name="regionstudied"> </a>
  <h4>Region Studied</h4>
  <p>
    The <a href="StructureDefinition-region-studied.html">Region Studied</a> profile is used to assert actual regions studied for the performed test(s). Intended coverage areas may differ from actual coverage areas (e.g. due to technical limitations during test performance). It can assert and describe actual regions studied for the performed test(s). It can provide this description at the known level of detail using components.
  </p>

  <a name="otherobservations"> </a>
  <h4>Other Observations</h4>
  <p>
    The results of tests other than genomic findings may also be included the report. One example is the <a href="StructureDefinition-tmb.html">Tumor Mutation Burden</a> profile, which captures the total number of mutations (changes) found in the DNA of cancer cells. Another example is <a href="StructureDefinition-msi.html">Microsatellite Instability</a>, a condition of genetic hypermutability that results from imparied DNA mismatch repair.
  </p>

  <a name="recommendations"> </a>
  <h3>Recommended Actions</h3>
  <p>
    These actions can be specific recommendations be taken and are driven by the results found. These can be a <a href="StructureDefinition-followup-recommendation.html">Followup Recommendation</a> which can be used to indicate when some sort of follow-up (additional testing, genetic counseling) is required, or a <a href="StructureDefinition-medication-recommendation.html">Medication Recommendation</a> which can be used to propose medication recommendations based on the results of the test.
  </p>

  <a name="contextual"> </a>
  <h3>Contextual Resources</h3>
  <p>
    There are a number of resources that are used within this guide to provide additional data as both input and output of the test.
  </p>
  <p>
    The <a href="StructureDefinition-servicerequest.html">Request for Genomic Test</a> typically represents a clinician order. It can also represent a lab-side filler order, a reflex order or even a plan or recommendation. These uses are distinguished via the <code>intent</code> element. The primary test to perform is captured in ServiceRequest.code. However, qualifications on what variants, medications, diseases and other aspects to search on can be conveyed using the <code>orderDetail</code> element. The service requests and the <a href="StructureDefinition-genomics-report.html">reports</a> resulting from them can be associated to patients, to specimens or both.
  </p>
  <p>
    <a href="StructureDefinition-specimen.html">Specimen</a> must be linked to a specific subject, group, or location. While genomic testing is most commonly associated with a patient, testing of a sample swabbed from a counter-top.
  </p>
  <p>
    Orders can point to other sources of information used to support the analysis performed as part of genomic testing. Genomic reports can refer to this the information that was considered as part of the report - whether provided as part of the order or made available subsequently by the patient or clinicians or otherwise retrieved. The figure above shows these relationships through the extension <a href="StructureDefinition-supporting-information.html">supportingInfo</a>, which can be to various Observations, FamilyMemberHistory records (including records that comply with <a href="{{site.data.fhir.path}}family-member-history-genetics.html">Family member history for genomics analysis</a> and <a href="{{site.data.fhir.path}}riskassessment.html">RiskAssessments</a>. 
  </p>

  <a name="relationships"> </a>
  <h3>Relationships Between Resources</h3>
  <p>
    To allow searching and appropriate navigation, the diagnostic report, observations and tasks must be able to stand on their own. They need to be related to the associated patient and/or specimen, the order that initiated the testing, the lab that performed the testing, etc. FHIR design principles dictate that these associations be present on <i>every</i> resource instance. That's because each resource could be accessed on its own as part of a query response, embedded in a document or message, passed to a decision support engine, etc. However, this is still relatively lightweight because the information is included by reference only.
  </p>
  <p>
    The following diagram shows the relationships between the diagnostic report, observations and other elements used in the profile. Note that there is no expectation that all relationships will point to the same instances. In special cases, a genomic report may involve multiple patients or multiple specimens. As mentioned the <code>extends</code>, <code>summaryOf</code> <!--and <a href="#grouper">grouping observations</a>--> can be used well to provide additional organization.
  </p>
  <img src="general-relationships.png" alt="Class diagram showing the interrelationships between DiagnosticReport, Observation, Task, Patient, Specimen, etc."/>
  <p>
    Key points to take from this diagram:
  </p>
  <ul>
    <li>Of the different types of observations, Genomic Findings all have exactly one specimen. The remainder might be associated with a specimen, but might not. Observations may also be associated with a particular BodyStructure, such as a fetus, tumor or lesion.</li>
    <li>Genomic reports and observations can be tied to multiple "orders" - this is because each test requested is handled as a separate request. All tests ordered as part of a single requisition are linked by the <code>requisition</code> identifier.</li>
    <li><i>Overall Interpretations</i> observations should be linked to <i>Genomic Findings</i> observations using the <code>Observation.derivedFrom</code> attribute. For example, an interpretation that "deletions or duplication were found" might be supported by observations of variants that contain deletions and/or duplication.</li>
    <li><i>Genomic Implications</i> observations should be linked to <i>Genomic Findings</i> observations using the <code>Observation.derivedFrom</code> attribute. For example, in a genomic report, it's not acceptable to imply "patient is an increased metabolizer of drug X" without also indicating the variant, haplotype or genotype found that supports that implication.</li>
    <li><i>Recommended Actions</i> are referenced from the <a href="StructureDefinition-recommended-action.html">Recommended Action</a> extension. These Task resources will also have relationships to Genomic Implications or other observations.</li>
  </ul>
    <a name="querynote"> </a>
  <h3>Querying</h3>
  <p>
	As a note on querying, the relationships indicated by <code>hasMember</code>, <code>derivedFrom</code> and the computable meaning conveyed by observation.code and component.code are critical for specificity in querying and getting comprehensive search results. Additionally, values found in elements like component.value and observation.value are useful as well. However, the meaning of the values are predicated on by the component.code or observation.code to which they associate. There is a page in this IG with <a href="usecases.html">query guidance</a> that show how to use components, relationships (references) and the iterative <code>hasMember</code> to find results. The use of a grouping observation does not influence the ability to query. For example the profile of a variant contains a value for the gene name component. 
  </p>
  <!--p>
    The query:<br></br>
    <b>GET /Observation?subject:Patient=123&amp;code=http://loinc.org|69548-6&amp;component-code-value-concept=http://loinc.org|48018-6$https://www.genenames.org/data/gene-symbol-report/#!/hgnc_id|HGNC:644</b> <br></br>
    will return all the variants associated with the specific patient where the Androgen Receptor (HGNC:644) is the gene name, whether a grouping observation is used or not. This is because the query looks first for all observations associated with the patient, then it filters by the observation.code to keep only those profiles which are variant profile instances. Next,the query retrieves the gene name from those profiles using the component.code and compares the coded-value to "HGNC:644." More queries and explanations can be found on the <a href="usecases.html"> query guidance page</a>.
  </p>
  <p>
    <b>Important:</b> If using grouping observations as results of a report, be sure to also reference the genomic observations. It is up to receiving systems to arrange/use the genomic observations appropriately. But some systems may only process just the first layer of a Diagnostic Report results. Thus, be sure to include result links to all the genomic observation results being returned. Consider using summaryOf for creating meaningful subsets of observations. Additionally, observations may not always be encapsulated in a DiagnosticReport. The use of basing queries on Observation resource, as done here, ensures that genomic observations will be found.<br></br>
  </p>
  <p>
    Similarly, at this time be sure to follow all references, and layers, when processing <code>DiagnosticReport.results</code> to ensure that all genomic observations have been processed. For example, just looking at the result references in the report does not ensure that grouped genomic observations have been processed. For example, if a lab were to not follow good practice and send only grouping observations as results for report, then one would need to follow the references in those grouping observations to see the genomic observations. 
  </p-->
</div>

 

